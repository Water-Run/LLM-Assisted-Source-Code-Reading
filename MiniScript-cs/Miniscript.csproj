<!--
╔══════════════════════════════════════════════════════════════════════════════╗
║                            文件概要 (File Summary)                            ║
╠══════════════════════════════════════════════════════════════════════════════╣
║                                                                              ║
║  文件名称: Miniscript.csproj                                                  ║
║  文件类型: MSBuild 项目文件 (XML 格式)                                         ║
║  所属项目: MiniScript - 一个轻量级脚本语言的 C# 实现                            ║
║  项目作者: Joe Strout                                                         ║
║  项目版本: 1.6.2                                                              ║
║  开源许可: MIT License                                                        ║
║  官方网站: https://miniscript.org/                                            ║
║  源码仓库: https://github.com/JoeStrout/miniscript                            ║
║                                                                              ║
╠══════════════════════════════════════════════════════════════════════════════╣
║                              文件功能说明                                      ║
╠══════════════════════════════════════════════════════════════════════════════╣
║                                                                              ║
║  .csproj 文件是 C# 项目的核心配置文件，它告诉 .NET SDK 和 MSBuild 构建系统：      ║
║                                                                              ║
║  1. 如何编译这个项目（目标框架、输出类型等）                                      ║
║  2. 项目的元数据信息（名称、版本、作者、描述等）                                  ║
║  3. NuGet 包发布时需要的信息（包ID、图标、许可证等）                              ║
║  4. 不同构建配置下的编译选项（Debug vs Release）                                 ║
║  5. 需要包含在项目中的额外文件（图标、README等）                                  ║
║                                                                              ║
║  这个文件使用的是 SDK 风格的项目格式（SDK-style project），这是 .NET Core        ║
║  及更高版本引入的简化项目格式，相比传统的 .NET Framework 项目文件更加简洁。        ║
║                                                                              ║
╠══════════════════════════════════════════════════════════════════════════════╣
║                              阅读前提知识                                      ║
╠══════════════════════════════════════════════════════════════════════════════╣
║                                                                              ║
║  MSBuild: Microsoft 的构建引擎，用于编译 .NET 项目                              ║
║  XML: 可扩展标记语言，.csproj 文件采用 XML 格式                                  ║
║  NuGet: .NET 的包管理器，类似于 Python 的 pip 或 Node.js 的 npm                 ║
║  PropertyGroup: 定义项目属性的 XML 元素组                                       ║
║  ItemGroup: 定义项目包含的文件或引用的 XML 元素组                                ║
║  Condition: MSBuild 的条件表达式，用于根据不同条件应用不同设置                    ║
║                                                                              ║
╚══════════════════════════════════════════════════════════════════════════════╝
-->

<!--
================================================================================
项目根元素 (Project Root Element)
================================================================================

<Project> 是整个项目文件的根元素，所有配置都包含在其中。

Sdk="Microsoft.NET.Sdk" 属性说明：
- 这表示使用 Microsoft 的 .NET SDK 来构建项目
- SDK 风格项目会自动导入很多默认设置，大大简化了项目文件
- 常见的 SDK 类型：
  * Microsoft.NET.Sdk          - 通用 .NET 项目（控制台、类库）
  * Microsoft.NET.Sdk.Web      - ASP.NET Web 项目
  * Microsoft.NET.Sdk.Worker   - 后台服务项目
  * Microsoft.NET.Sdk.Razor    - Razor 组件项目

使用 SDK 风格的好处：
- 自动包含当前目录下的所有 .cs 文件，无需手动列出
- 自动处理常见的项目引用和包引用
- 文件更简洁，通常只需定义与默认值不同的设置
================================================================================
-->
<Project Sdk="Microsoft.NET.Sdk">

  <!--
  ==============================================================================
  第一个 PropertyGroup: 项目基本属性和 NuGet 包配置
  ==============================================================================
  
  PropertyGroup 是一个属性组，用于定义项目的各种属性。
  一个项目文件可以包含多个 PropertyGroup，它们的属性会被合并。
  如果同一属性被定义多次，后面的定义会覆盖前面的。
  
  这个 PropertyGroup 没有 Condition 属性，意味着这些设置适用于所有配置。
  ==============================================================================
  -->
  <PropertyGroup>
  
    <!--
    ProjectGuid: 项目的全局唯一标识符 (GUID)
    ============================================================================
    
    GUID (Globally Unique Identifier) 是一个 128 位的唯一标识符。
    格式: {xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx}
    
    用途：
    - Visual Studio 使用它来跟踪解决方案 (.sln) 中的项目
    - 某些旧版工具和插件可能依赖它来识别项目
    - 在多项目解决方案中确保项目引用的唯一性
    
    注意：在新的 SDK 风格项目中，ProjectGuid 通常不是必需的，
    但保留它可以提高与旧工具的兼容性。
    ============================================================================
    -->
    <ProjectGuid>{C3806B8F-9702-4B39-B6D9-9ECBC298565F}</ProjectGuid>
    
    <!--
    OutputType: 指定编译输出的类型
    ============================================================================
    
    可选值：
    - Exe        : 生成可执行文件 (.exe)，这是一个控制台应用程序
    - WinExe     : 生成 Windows 窗口应用程序（无控制台窗口）
    - Library    : 生成类库 (.dll)，不能直接运行，需要被其他程序引用
    - Module     : 生成模块 (.netmodule)，很少使用
    
    这里设置为 Exe，说明 MiniScript 编译后是一个可以直接运行的命令行程序。
    运行时可以在终端/命令行中执行 MiniScript 脚本。
    ============================================================================
    -->
    <OutputType>Exe</OutputType>
    
    <!--
    RootNamespace: 项目的根命名空间
    ============================================================================
    
    命名空间 (Namespace) 是 C# 中组织代码的方式，用于：
    - 避免类名冲突（不同命名空间可以有同名类）
    - 逻辑上组织相关的类型
    
    当在 Visual Studio 中创建新文件时，会自动使用这个命名空间。
    例如，新创建的类会自动添加: namespace Miniscript { ... }
    
    项目中的代码文件应该使用与此一致的命名空间，如：
    - Miniscript
    - Miniscript.Parser
    - Miniscript.Runtime
    ============================================================================
    -->
    <RootNamespace>Miniscript</RootNamespace>
    
    <!--
    AssemblyName: 编译输出的程序集名称
    ============================================================================
    
    程序集 (Assembly) 是 .NET 的基本部署单元，可以是 .exe 或 .dll 文件。
    
    这个属性决定了：
    - 输出文件的名称：Miniscript.exe（Windows）或 Miniscript（Linux/Mac）
    - 程序集的内部名称，可通过反射 API 获取
    
    如果不设置，默认使用项目文件名（不含 .csproj 扩展名）。
    ============================================================================
    -->
    <AssemblyName>Miniscript</AssemblyName>
    
    <!--
    TargetFrameworks: 目标框架版本
    ============================================================================
    
    指定项目要编译到哪个 .NET 版本。这决定了：
    - 可以使用哪些 API 和语言特性
    - 程序可以在哪些环境中运行
    - 需要安装什么版本的运行时
    
    常见的目标框架：
    - net6.0        : .NET 6（LTS 长期支持版本）
    - net7.0        : .NET 7
    - net8.0        : .NET 8（LTS 长期支持版本）
    - netstandard2.0: .NET Standard 2.0，兼容多个 .NET 实现
    - net48         : .NET Framework 4.8（仅 Windows）
    
    注意这里用的是 TargetFrameworks（复数），虽然只指定了一个框架。
    如果要多目标框架编译，可以用分号分隔：
    <TargetFrameworks>net6.0;net8.0;netstandard2.0</TargetFrameworks>
    ============================================================================
    -->
    <TargetFrameworks>net6.0</TargetFrameworks>
    
    <!--
    ============================================================================
    以下属性主要用于 NuGet 包发布
    ============================================================================
    
    NuGet 是 .NET 的包管理系统。当你运行 `dotnet pack` 命令时，
    会根据这些属性生成一个 .nupkg 文件，可以发布到 nuget.org 或私有源。
    
    即使不打算发布 NuGet 包，设置这些属性也是好习惯，
    因为它们会作为程序集的元数据嵌入到编译输出中。
    ============================================================================
    -->
    
    <!--
    PackageId: NuGet 包的唯一标识符
    ============================================================================
    
    这是在 NuGet 仓库中识别包的唯一 ID。
    格式通常采用反向域名风格：组织.项目名
    例如：org.miniscript.MiniScript
    
    用户安装时会使用这个 ID：
    dotnet add package org.miniscript.MiniScript
    ============================================================================
    -->
    <PackageId>org.miniscript.MiniScript</PackageId>
    
    <!--
    VersionPrefix: 版本号前缀
    ============================================================================
    
    遵循语义化版本规范 (Semantic Versioning / SemVer)：
    格式：主版本号.次版本号.修订号 (MAJOR.MINOR.PATCH)
    
    - 主版本号 (1): 有不兼容的 API 变更时递增
    - 次版本号 (6): 添加向后兼容的新功能时递增
    - 修订号 (2): 向后兼容的 bug 修复时递增
    
    相关属性：
    - VersionSuffix: 版本后缀，如 "alpha"、"beta"、"rc1"
    - Version: 完整版本，等于 VersionPrefix-VersionSuffix
    
    例如：VersionPrefix=1.6.2 + VersionSuffix=beta 得到 1.6.2-beta
    ============================================================================
    -->
    <VersionPrefix>1.6.2</VersionPrefix>
    
    <!--
    Authors: 作者列表
    ============================================================================
    
    项目作者的名字，多个作者用逗号分隔。
    这会显示在 NuGet 包页面和程序集属性中。
    ============================================================================
    -->
    <Authors>Joe Strout</Authors>
    
    <!--
    Title: 包的显示标题
    ============================================================================
    
    这是在 NuGet 包管理器中显示的友好名称。
    可以包含空格和特殊字符，比 PackageId 更易读。
    ============================================================================
    -->
    <Title>MiniScript</Title>
    
    <!--
    Description: 包的详细描述
    ============================================================================
    
    简短描述包的用途和功能。
    会显示在 NuGet.org 的包详情页面和 Visual Studio 的包管理器中。
    ============================================================================
    -->
    <Description>C# implementation of the MiniScript scripting language</Description>
    
    <!--
    Copyright: 版权声明
    ============================================================================
    
    这里使用了 MSBuild 的属性函数 (Property Functions) 来动态生成内容。
    
    MSBuild 属性函数语法：$([类名]::方法名(参数))
    
    详细解释：
    - $([System.DateTime]::UtcNow.Year) 
      调用 System.DateTime 类的 UtcNow 属性获取当前 UTC 时间，
      然后获取其 Year 属性，得到当前年份（如 2025）
      
    - $([System.DateTime]::UtcNow.ToString("s"))
      获取当前 UTC 时间并格式化为 ISO 8601 格式
      例如："2025-01-26T10:30:45"
      "s" 是排序日期/时间格式说明符
    
    最终结果类似：Copyright © 2025 Joe Strout (2025-01-26T10:30:45)
    
    这是 MSBuild 的高级用法，允许在构建时动态计算属性值。
    常用的属性函数包括：
    - 字符串操作：$([System.String]::Format(...))
    - 数学运算：$([System.Math]::Add(1, 2))
    - 路径处理：$([System.IO.Path]::GetFileName(...))
    - 环境变量：$([System.Environment]::GetEnvironmentVariable(...))
    ============================================================================
    -->
    <Copyright>Copyright © $([System.DateTime]::UtcNow.Year) Joe Strout ($([System.DateTime]::UtcNow.ToString("s")))</Copyright>
    
    <!--
    PackageLicenseExpression: 开源许可证声明
    ============================================================================
    
    使用 SPDX (Software Package Data Exchange) 标准的许可证标识符。
    
    常见的许可证标识符：
    - MIT        : MIT 许可证（非常宽松）
    - Apache-2.0 : Apache 2.0 许可证
    - GPL-3.0    : GNU GPL v3
    - BSD-3-Clause: BSD 3-Clause 许可证
    
    MIT 许可证允许几乎任何用途，只需保留版权和许可声明。
    
    也可以使用 PackageLicenseFile 属性指向一个 LICENSE 文件。
    ============================================================================
    -->
    <PackageLicenseExpression>MIT</PackageLicenseExpression>
    
    <!--
    PackageProjectUrl: 项目主页 URL
    ============================================================================
    
    指向项目官方网站或文档页面。
    用户可以通过这个链接了解更多关于项目的信息。
    ============================================================================
    -->
    <PackageProjectUrl>https://miniscript.org/</PackageProjectUrl>
    
    <!--
    PackageIcon: NuGet 包图标
    ============================================================================
    
    指定包内图标文件的路径（相对于包根目录）。
    图标要求：
    - 格式：PNG
    - 建议尺寸：128x128 像素
    - 必须在 ItemGroup 中用 Pack="true" 包含进包中
    
    这里的 Icon.png 文件通过下面的 ItemGroup 被包含到包的根目录。
    ============================================================================
    -->
    <PackageIcon>Icon.png</PackageIcon>
    
    <!--
    PackageReadmeFile: 包的 README 文件
    ============================================================================
    
    NuGet.org 会在包详情页显示这个 README 文件的内容。
    支持 Markdown 格式，可以包含格式化的说明文档。
    
    同样需要在 ItemGroup 中用 Pack="true" 包含进包中。
    ============================================================================
    -->
    <PackageReadmeFile>README.md</PackageReadmeFile>
    
    <!--
    PackageTags: 搜索标签
    ============================================================================
    
    用于 NuGet.org 搜索的标签，用分号分隔。
    好的标签可以帮助用户更容易找到你的包。
    
    这里的标签：miniscript, programming language
    用户搜索这些关键词时可能会找到这个包。
    ============================================================================
    -->
    <PackageTags>miniscript;programming language</PackageTags>
    
    <!--
    PackageReleaseNotes: 版本发布说明
    ============================================================================
    
    描述这个版本的更新内容、新功能、bug 修复等。
    这里没有直接写内容，而是指向 GitHub 上的发布说明文件。
    ============================================================================
    -->
    <PackageReleaseNotes>Please visit https://github.com/JoeStrout/miniscript/blob/master/MiniScript-Release-Notes.txt to read the release notes.</PackageReleaseNotes>
    
    <!--
    RepositoryUrl: 源代码仓库地址
    ============================================================================
    
    指向项目源代码托管的位置（通常是 GitHub、GitLab 等）。
    某些工具和 IDE 可以利用这个信息提供源码导航功能。
    
    相关属性（这里未使用）：
    - RepositoryType: 仓库类型，如 "git"、"svn"
    - RepositoryBranch: 仓库分支
    - RepositoryCommit: 具体的提交 hash
    ============================================================================
    -->
    <RepositoryUrl>https://github.com/JoeStrout/miniscript</RepositoryUrl>
    
  </PropertyGroup>

  <!--
  ==============================================================================
  第二个 PropertyGroup: Debug x86 配置的编译选项
  ==============================================================================
  
  Condition 属性解释：
  ============================================================================
  
  Condition 是 MSBuild 的条件表达式，只有条件为真时，元素才会生效。
  
  语法：Condition=" '$(属性1)|$(属性2)' == '值1|值2' "
  
  这里的条件是：
  '$(Configuration)|$(Platform)' == 'Debug|x86'
  
  - $(Configuration): 构建配置，通常是 Debug 或 Release
  - $(Platform): 目标平台，如 x86、x64、AnyCPU
  
  只有当用户选择 Debug 配置且目标平台为 x86 时，
  这些编译选项才会被应用。
  
  注意：虽然条件中写的是 x86，但下面的 PlatformTarget 却设置为 x64，
  这看起来可能是项目配置的一个小问题，实际应该保持一致。
  ==============================================================================
  -->
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|x86' ">
  
    <!--
    DebugSymbols: 是否生成调试符号
    ============================================================================
    
    设置为 true 时，编译器会生成调试信息，允许：
    - 设置断点
    - 单步调试代码
    - 查看变量值
    - 查看调用堆栈
    
    调试符号存储在 .pdb (Program Database) 文件中。
    ============================================================================
    -->
    <DebugSymbols>true</DebugSymbols>
    
    <!--
    DebugType: 调试信息的详细程度
    ============================================================================
    
    可选值：
    - full      : 完整调试信息，支持附加调试器到运行中的进程
    - pdbonly   : 只有 PDB 信息，不支持附加调试
    - portable  : 跨平台的 PDB 格式（推荐用于 .NET Core/5+）
    - embedded  : 将调试信息嵌入程序集中
    - none      : 不生成调试信息
    
    对于现代 .NET 项目，推荐使用 portable 或 embedded。
    ============================================================================
    -->
    <DebugType>full</DebugType>
    
    <!--
    Optimize: 是否启用编译器优化
    ============================================================================
    
    false（Debug 模式下的典型设置）：
    - 代码不会被优化
    - 更容易调试（代码执行顺序与源码一致）
    - 编译速度更快
    - 运行速度较慢
    
    true（Release 模式下的典型设置）：
    - 编译器会进行各种优化
    - 某些代码可能被重排或内联
    - 运行速度更快
    - 调试体验可能不佳
    ============================================================================
    -->
    <Optimize>false</Optimize>
    
    <!--
    OutputPath: 编译输出目录
    ============================================================================
    
    指定编译生成的文件（.exe、.dll、.pdb 等）存放的位置。
    这是相对于项目文件所在目录的路径。
    
    Debug 配置输出到 bin\Debug
    Release 配置输出到 bin\Release
    ============================================================================
    -->
    <OutputPath>bin\Debug</OutputPath>
    
    <!--
    DefineConstants: 条件编译符号
    ============================================================================
    
    定义预处理器符号，可以在代码中使用 #if 指令进行条件编译。
    
    例如：
    #if DEBUG
        Console.WriteLine("调试信息：变量值 = " + value);
    #endif
    
    这段代码只在 DEBUG 符号被定义时才会编译进最终程序。
    
    常见用途：
    - 添加仅用于调试的日志输出
    - 根据不同平台编译不同代码
    - 启用/禁用某些功能
    
    多个符号用分号分隔，如：DEBUG;TRACE;MYFEATURE
    ============================================================================
    -->
    <DefineConstants>DEBUG;</DefineConstants>
    
    <!--
    ErrorReport: 编译错误报告方式
    ============================================================================
    
    指定发生内部编译器错误时如何处理。
    
    可选值：
    - prompt : 提示用户是否发送错误报告
    - queue  : 将错误排队，稍后发送
    - send   : 自动发送错误报告
    - none   : 不发送错误报告
    
    这主要用于向 Microsoft 报告编译器 bug。
    ============================================================================
    -->
    <ErrorReport>prompt</ErrorReport>
    
    <!--
    WarningLevel: 编译警告级别
    ============================================================================
    
    控制编译器显示哪些警告信息。
    
    级别：
    - 0 : 禁用所有警告
    - 1 : 只显示严重警告
    - 2 : 显示级别 1 + 某些不太严重的警告
    - 3 : 显示级别 2 + 信息性警告（如未使用的变量）
    - 4 : 显示级别 3 + 所有警告（推荐）
    
    级别 4 是最详细的，可以帮助发现潜在问题。
    ============================================================================
    -->
    <WarningLevel>4</WarningLevel>
    
    <!--
    Externalconsole: 是否使用外部控制台（主要用于 IDE）
    ============================================================================
    
    这是一个主要用于 MonoDevelop/Xamarin Studio 的设置。
    
    - true  : 在外部终端窗口中运行程序
    - false : 在 IDE 内置的输出窗口中运行
    
    使用外部控制台的好处是程序结束后窗口不会立即关闭，
    方便查看程序的输出结果。
    ============================================================================
    -->
    <Externalconsole>true</Externalconsole>
    
    <!--
    PlatformTarget: 目标处理器架构
    ============================================================================
    
    指定编译后的程序针对哪种 CPU 架构。
    
    可选值：
    - AnyCPU   : 可在任何架构上运行（JIT 决定）
    - x86      : 32 位 x86 处理器
    - x64      : 64 位 x64 处理器
    - ARM      : ARM 处理器
    - ARM64    : 64 位 ARM 处理器
    
    选择 x64 意味着程序只能在 64 位系统上运行。
    
    注意：这里虽然 PropertyGroup 条件是 x86，但 PlatformTarget 设为 x64，
    这可能是历史配置问题，建议保持一致。
    ============================================================================
    -->
    <PlatformTarget>x64</PlatformTarget>
    
  </PropertyGroup>
  
  <!--
  ==============================================================================
  第三个 PropertyGroup: Release x86 配置的编译选项
  ==============================================================================
  
  Release 配置与 Debug 配置的主要区别：
  1. 没有设置 DebugSymbols（默认为 false 或较少符号）
  2. Optimize 设为 true，启用编译器优化
  3. 没有定义 DEBUG 符号
  4. 输出到不同的目录（bin\Release）
  
  这些设置产生更小、更快的可执行文件，适合发布给最终用户。
  ==============================================================================
  -->
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|x86' ">
  
    <!--
    DebugType: full
    ============================================================================
    
    即使在 Release 模式下也保留完整调试信息。
    这允许在需要时调试 Release 版本（如诊断生产环境问题）。
    
    注意：有些项目在 Release 中使用 pdbonly 或 none 以减小文件大小。
    ============================================================================
    -->
    <DebugType>full</DebugType>
    
    <!--
    Optimize: true
    ============================================================================
    
    启用编译器优化。编译器会进行多种优化，包括：
    - 方法内联（将小方法的代码直接插入调用处）
    - 死代码消除（移除永远不会执行的代码）
    - 循环优化（展开、向量化等）
    - 常量折叠（在编译时计算常量表达式）
    
    这些优化可以显著提高运行时性能。
    ============================================================================
    -->
    <Optimize>true</Optimize>
    
    <!--
    OutputPath: bin\Release
    ============================================================================
    
    Release 版本输出到单独的目录，便于区分和管理。
    ============================================================================
    -->
    <OutputPath>bin\Release</OutputPath>
    
    <!--
    ErrorReport: prompt
    ============================================================================
    
    与 Debug 配置相同，提示用户报告编译器错误。
    ============================================================================
    -->
    <ErrorReport>prompt</ErrorReport>
    
    <!--
    WarningLevel: 4
    ============================================================================
    
    保持最高警告级别，确保代码质量。
    ============================================================================
    -->
    <WarningLevel>4</WarningLevel>
    
    <!--
    Externalconsole: true
    ============================================================================
    
    使用外部控制台运行。
    ============================================================================
    -->
    <Externalconsole>true</Externalconsole>
    
    <!--
    PlatformTarget: x64
    ============================================================================
    
    目标 64 位处理器。
    ============================================================================
    -->
    <PlatformTarget>x64</PlatformTarget>
    
  </PropertyGroup>

  <!--
  ==============================================================================
  ItemGroup: 要包含在 NuGet 包中的文件
  ==============================================================================
  
  ItemGroup 用于定义项目中包含的文件、引用和其他项。
  
  常见的 ItemGroup 元素类型：
  - None           : 不参与编译的文件（资源、配置等）
  - Compile        : 需要编译的源代码文件
  - Content        : 内容文件（复制到输出目录）
  - EmbeddedResource: 嵌入到程序集的资源
  - PackageReference: NuGet 包引用
  - ProjectReference: 项目引用
  
  这里使用 None 元素包含两个文件：Icon.png 和 README.md
  它们不参与编译，但需要包含在 NuGet 包中。
  ==============================================================================
  -->
  <ItemGroup>
  
    <!--
    Icon.png: 项目图标文件
    ============================================================================
    
    Include 属性：
    - "../Icon.png" 表示文件位于项目文件上一级目录
    - 使用相对路径，保持项目的可移植性
    
    Pack 属性：
    - Pack="true" 表示在执行 `dotnet pack` 时将此文件包含进 NuGet 包
    
    PackagePath 属性：
    - PackagePath="/" 表示将文件放在 NuGet 包的根目录
    - 这与上面 <PackageIcon>Icon.png</PackageIcon> 的路径对应
    
    NuGet 包的内部结构类似：
    /
    ├── Icon.png          <-- PackagePath="/"
    ├── README.md         <-- PackagePath="/"
    └── lib/
        └── net6.0/
            └── Miniscript.dll
    ============================================================================
    -->
    <None Include="../Icon.png" Pack="true" PackagePath="/"/>
    
    <!--
    README.md: 项目说明文件
    ============================================================================
    
    与 Icon.png 类似，将 README 文件包含到 NuGet 包根目录。
    NuGet.org 会读取并显示这个文件的内容作为包的详细说明。
    
    README.md 通常包含：
    - 项目简介
    - 安装说明
    - 快速开始示例
    - API 文档链接
    - 许可证信息
    ============================================================================
    -->
    <None Include="../README.md" Pack="true" PackagePath="/"/>
    
  </ItemGroup>

</Project>

<!--
╔══════════════════════════════════════════════════════════════════════════════╗
║                              详细总结说明                                      ║
╠══════════════════════════════════════════════════════════════════════════════╣
║                                                                              ║
║  1. 文件格式与作用                                                            ║
║  ════════════════                                                            ║
║  .csproj 是 C# 项目的核心配置文件，采用 XML 格式。MSBuild 构建引擎读取这个       ║
║  文件来了解如何编译项目。这是一个 SDK 风格的项目文件（通过 Sdk 属性识别），       ║
║  相比传统格式更加简洁，因为很多默认设置由 SDK 自动提供。                         ║
║                                                                              ║
╠══════════════════════════════════════════════════════════════════════════════╣
║                                                                              ║
║  2. 文件结构概览                                                              ║
║  ════════════════                                                            ║
║                                                                              ║
║  <Project>                           ← 根元素，指定使用 .NET SDK              ║
║    │                                                                         ║
║    ├── <PropertyGroup>               ← 通用属性（无条件）                      ║
║    │     ├── 项目基本信息                                                     ║
║    │     └── NuGet 包元数据                                                   ║
║    │                                                                         ║
║    ├── <PropertyGroup Condition="Debug">  ← Debug 配置专用属性                ║
║    │     └── 调试相关的编译选项                                               ║
║    │                                                                         ║
║    ├── <PropertyGroup Condition="Release"> ← Release 配置专用属性             ║
║    │     └── 发布相关的编译选项                                               ║
║    │                                                                         ║
║    └── <ItemGroup>                   ← 文件包含                               ║
║          └── 需要打包的额外文件                                               ║
║                                                                              ║
╠══════════════════════════════════════════════════════════════════════════════╣
║                                                                              ║
║  3. 关键属性详解                                                              ║
║  ════════════════                                                            ║
║                                                                              ║
║  ┌─────────────────────┬────────────────────────────────────────────────┐   ║
║  │ 属性                 │ 作用                                          │   ║
║  ├─────────────────────┼────────────────────────────────────────────────┤   ║
║  │ OutputType          │ 输出类型 (Exe/Library/WinExe)                  │   ║
║  │ TargetFrameworks    │ 目标 .NET 版本                                 │   ║
║  │ RootNamespace       │ 默认命名空间                                   │   ║
║  │ AssemblyName        │ 输出程序集名称                                 │   ║
║  │ DebugSymbols        │ 是否生成调试符号                               │   ║
║  │ Optimize            │ 是否启用优化                                   │   ║
║  │ DefineConstants     │ 条件编译符号                                   │   ║
║  │ WarningLevel        │ 警告详细程度 (0-4)                             │   ║
║  └─────────────────────┴────────────────────────────────────────────────┘   ║
║                                                                              ║
╠══════════════════════════════════════════════════════════════════════════════╣
║                                                                              ║
║  4. MSBuild 高级特性                                                         ║
║  ════════════════════                                                        ║
║                                                                              ║
║  本文件使用了以下 MSBuild 高级特性：                                          ║
║                                                                              ║
║  a) 条件表达式 (Condition)                                                   ║
║     语法: Condition=" '$(Property)' == 'Value' "                             ║
║     用于根据配置应用不同的设置                                                ║
║                                                                              ║
║  b) 属性函数 (Property Functions)                                            ║
║     语法: $([ClassName]::Method())                                           ║
║     允许在 MSBuild 属性中调用 .NET 类的静态方法                               ║
║     例如: $([System.DateTime]::UtcNow.Year) 获取当前年份                     ║
║                                                                              ║
║  c) 属性引用                                                                 ║
║     语法: $(PropertyName)                                                    ║
║     引用其他属性的值                                                         ║
║                                                                              ║
╠══════════════════════════════════════════════════════════════════════════════╣
║                                                                              ║
║  5. Debug vs Release 配置对比                                                ║
║  ════════════════════════════                                                ║
║                                                                              ║
║  ┌──────────────────┬──────────────────┬──────────────────┐                 ║
║  │ 属性              │ Debug            │ Release          │                 ║
║  ├──────────────────┼──────────────────┼──────────────────┤                 ║
║  │ DebugSymbols     │ true             │ (未设置)         │                 ║
║  │ Optimize         │ false            │ true             │                 ║
║  │ DefineConstants  │ DEBUG            │ (无)             │                 ║
║  │ OutputPath       │ bin\Debug        │ bin\Release      │                 ║
║  │ 适用场景         │ 开发调试         │ 生产发布         │                 ║
║  │ 程序大小         │ 较大             │ 较小             │                 ║
║  │ 运行速度         │ 较慢             │ 较快             │                 ║
║  └──────────────────┴──────────────────┴──────────────────┘                 ║
║                                                                              ║
╠══════════════════════════════════════════════════════════════════════════════╣
║                                                                              ║
║  6. 常用命令                                                                 ║
║  ════════════                                                                ║
║                                                                              ║
║  编译项目：                                                                  ║
║    dotnet build                      # 默认 Debug 配置                      ║
║    dotnet build -c Release           # Release 配置                         ║
║                                                                              ║
║  运行项目：                                                                  ║
║    dotnet run                        # 编译并运行                           ║
║                                                                              ║
║  创建 NuGet 包：                                                             ║
║    dotnet pack                       # 生成 .nupkg 文件                     ║
║                                                                              ║
║  清理输出：                                                                  ║
║    dotnet clean                      # 删除编译输出                         ║
║                                                                              ║
╠══════════════════════════════════════════════════════════════════════════════╣
║                                                                              ║
║  7. 扩展阅读                                                                 ║
║  ════════════                                                                ║
║                                                                              ║
║  - MSBuild 文档: docs.microsoft.com/en-us/visualstudio/msbuild              ║
║  - .csproj 参考: docs.microsoft.com/en-us/dotnet/core/project-sdk/overview  ║
║  - NuGet 打包: docs.microsoft.com/en-us/nuget/create-packages               ║
║  - MiniScript 官网: miniscript.org                                          ║
║                                                                              ║
╚══════════════════════════════════════════════════════════════════════════════╝
-->